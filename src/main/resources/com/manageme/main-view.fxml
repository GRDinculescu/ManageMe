<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<?import javafx.scene.control.ListView?>
<VBox fx:id="root" minHeight="600" minWidth="800" prefHeight="1080" prefWidth="1920" stylesheets="@styles/styles.css"
      xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.manageme.controllers.MainController">

    <!-- menu de arriba -->
    <fx:include source="menu-bar-layout.fxml" fx:id="menubar"/>

    <!-- aplicacion -->
    <VBox spacing="30.0" VBox.vgrow="ALWAYS">
        <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
        </padding>

        <!-- parte de filtros y busqueda -->
        <HBox>
            <!-- boton filtros -->
            <Button onAction="#onFilterClick" prefHeight="50.0" prefWidth="200.0" styleClass="ts-3, round-1, bc-lblue" text="FILTRAR" textAlignment="CENTER" />
            <Region HBox.hgrow="ALWAYS" />

            <!-- parte de busqueda -->
            <HBox alignment="CENTER" spacing="20.0">

                <!-- imagen lupa -->
                <ImageView onMouseClicked="#onFilterChange" fitHeight="50.0" fitWidth="50.0" pickOnBounds="true" preserveRatio="true">
                    <Image url="@../../drawable/search.png" />
                </ImageView>

                <!-- buscador -->
                <TextField fx:id="search" VBox.vgrow="ALWAYS" styleClass="ts-2, w-500"/>
            </HBox>
            <Region HBox.hgrow="ALWAYS" />

            <!-- boton de agregar -->
            <Button fx:id="addButton" prefHeight="50.0" prefWidth="50.0" styleClass="ts-3, round-1, bc-lgreen, bold" text="+" onAction="#onAddClick"/>
        </HBox>

        <!-- parte principal -->
        <HBox spacing="30.0" VBox.vgrow="ALWAYS">

            <!-- botones de categoria -->
            <VBox fx:id="categories" alignment="CENTER" spacing="20"/>

            <!-- filtros -->
            <fx:include fx:id="filtres" source="filtres-layout.fxml" managed="false" visible="false"/>

            <!-- los productos -->
            <ScrollPane fitToWidth="true" HBox.hgrow="ALWAYS" fitToHeight="true">
                <ListView fx:id="productsView">
                    <padding>
                        <Insets bottom="20" left="20" right="20" top="20" />
                    </padding>
                </ListView>
            </ScrollPane>
        </HBox>
    </VBox>
</VBox>
